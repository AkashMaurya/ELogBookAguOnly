{% extends 'base.html' %}

{% block title %}
  Home Page
{% endblock %}

{% block navbar %}
  {% include './components/public_navbar.html' %}
{% endblock %}

{% block extra_head %}
  <!-- Optimized CSS: Moved styles to head for better performance -->
  <style>
    /* Animation keyframes */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeInLeft {
      from { opacity: 0; transform: translateX(-20px); }
      to { opacity: 1; transform: translateX(0); }
    }

    @keyframes fadeInRight {
      from { opacity: 0; transform: translateX(20px); }
      to { opacity: 1; transform: translateX(0); }
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Animation classes */
    .animate-fade-in { animation: fadeIn 0.8s ease-out forwards; }
    .animate-fade-in-left { animation: fadeInLeft 0.8s ease-out forwards; }
    .animate-fade-in-right { animation: fadeInRight 0.8s ease-out forwards; }
    .animate-fade-in-up { animation: fadeInUp 0.8s ease-out forwards; }

    /* Delay classes */
    .delay-100 { animation-delay: 0.1s; }
    .delay-200 { animation-delay: 0.2s; }
    .delay-300 { animation-delay: 0.3s; }

    /* Reduce motion for accessibility */
    @media (prefers-reduced-motion: reduce) {
      .animate-fade-in, .animate-fade-in-left, .animate-fade-in-right, .animate-fade-in-up {
        animation: none !important;
        opacity: 1 !important;
        transform: none !important;
      }
    }

    /* Optimize image loading */
    .lazy-image {
      transition: opacity 0.3s ease;
      opacity: 0;
    }

    .lazy-image.loaded {
      opacity: 1;
    }
  </style>

  <!-- Preload hero image -->
  <link rel="preload" as="image" href="https://images.unsplash.com/photo-1631217868264-e5b90bb7e133?q=80&w=2091" fetchpriority="high">
{% endblock %}

{% block content %}
  <!-- Hero Section -->
  <section class="bg-gradient-to-r  from-blue-600 to-purple-700 dark:from-gray-800 dark:to-gray-900 py-20">
    <div class=" text-center">
      <h1 class="text-4xl md:text-6xl font-bold text-white animate-fade-in mb-6">Welcome to ElogBook</h1>
      <p class="text-xl md:text-2xl text-white opacity-90 mb-8">Revolutionizing Medical Education at Arabian Gulf University</p>
      <a href="{% url 'login' %}" class="inline-block bg-white text-blue-600 dark:bg-gray-900 dark:text-white px-8 py-4 rounded-lg shadow-lg hover:shadow-xl transition duration-300 font-medium text-lg">Get Started</a>
    </div>
  </section>

  <!-- Services Section -->
  <section class="py-16 text-center px-4">
    <h2 class="text-3xl md:text-4xl font-bold text-center mb-12 animate-fade-in">Our Services</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      <!-- Service Card 1 -->
      <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 animate-fade-in-up delay-100">
        <img
          src="https://images.unsplash.com/photo-1631217868264-e5b90bb7e133?q=80&w=2091"
          alt="Medical Records"
          class="rounded-t-xl w-full h-56 object-cover"
          loading="lazy"
        />
        <div class="p-6">
          <h3 class="text-2xl font-semibold mb-3">Medical Records</h3>
          <p class="text-gray-600 dark:text-gray-300">Efficiently manage and access patient records with our secure platform.</p>
          <a href="#" class="mt-4 inline-block text-blue-600 dark:text-blue-400 hover:underline font-medium">Learn More →</a>
        </div>
      </div>

      <!-- Service Card 2 -->
      <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 animate-fade-in-up delay-200">
        <img
          src="https://images.unsplash.com/photo-1581594693702-fbdc51b2763b?q=80&w=2070"
          alt="Research Tools"
          class="rounded-t-xl w-full h-56 object-cover"
          loading="lazy"
        />
        <div class="p-6">
          <h3 class="text-2xl font-semibold mb-3">Research Tools</h3>
          <p class="text-gray-600 dark:text-gray-300">Access cutting-edge tools for medical research and collaboration.</p>
          <a href="#" class="mt-4 inline-block text-blue-600 dark:text-blue-400 hover:underline font-medium">Learn More →</a>
        </div>
      </div>

      <!-- Service Card 3 -->
      <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 animate-fade-in-up delay-300">
        <img
          src="https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?q=80&w=2070"
          alt="Learning Resources"
          class="rounded-t-xl w-full h-56 object-cover"
          loading="lazy"
        />
        <div class="p-6">
          <h3 class="text-2xl font-semibold mb-3">Learning Resources</h3>
          <p class="text-gray-600 dark:text-gray-300">Explore a vast library of medical textbooks, journals, and case studies.</p>
          <a href="#" class="mt-4 inline-block text-blue-600 dark:text-blue-400 hover:underline font-medium">Learn More →</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Gallery Section -->
  <section class="py-16 bg-gray-100 dark:bg-gray-800">
    <div class="py-16 text-center px-4">
      <h2 class="text-3xl md:text-4xl font-bold text-center mb-12">Our Gallery</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <!-- Gallery Item 1 -->
        <div class="group relative h-72 overflow-hidden rounded-xl shadow-lg">
          <img
            src="https://images.unsplash.com/photo-1516549655169-df83a0774514?q=80&w=2070"
            alt="Medical Research Lab"
            class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
            loading="lazy"
          />
          <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end">
            <p class="text-white p-4 font-medium">State-of-the-art Research Facilities</p>
          </div>
        </div>

        <!-- Gallery Item 2 -->
        <div class="group relative h-72 overflow-hidden rounded-xl shadow-lg">
          <img
            src="https://images.unsplash.com/photo-1581595220892-b0739db3ba8c?q=80&w=2073"
            alt="Medical Education"
            class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
            loading="lazy"
          />
          <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end">
            <p class="text-white p-4 font-medium">Interactive Learning Environment</p>
          </div>
        </div>

        <!-- Gallery Item 3 -->
        <div class="group relative h-72 overflow-hidden rounded-xl shadow-lg">
          <img
            src="https://images.unsplash.com/photo-1579684385127-1ef15d508118?q=80&w=2080"
            alt="Medical Technology"
            class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
            loading="lazy"
          />
          <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end">
            <p class="text-white p-4 font-medium">Advanced Medical Technology</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials Section - Optimized -->
  <section class="py-16 text-center px-4">
    <h2 class="text-2xl md:text-3xl font-bold text-center mb-8 md:mb-12 animate-fade-in">What Our Users Say</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-5 md:gap-6 max-w-4xl mx-auto">
      <!-- Testimonial 1 - Optimized -->
      <div class="bg-white dark:bg-gray-800 p-5 md:p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300 animate-fade-in-left">
        <div class="flex items-center mb-4">
          <img
            src="https://randomuser.me/api/portraits/men/32.jpg"
            alt="Dr. Ahmed Al-Mansoori"
            class="rounded-full w-12 h-12 object-cover"
            width="48"
            height="48"
            loading="lazy"
          />
          <div class="ml-4">
            <p class="font-bold text-gray-900 dark:text-white">Dr. Ahmed Al-Mansoori</p>
            <p class="text-sm text-gray-600 dark:text-gray-300">Medical Director</p>
          </div>
        </div>
        <p class="text-gray-600 dark:text-gray-300">"ElogBook has transformed the way we manage medical records. It's a game-changer for our institution!"</p>
      </div>

      <!-- Testimonial 2 - Optimized -->
      <div class="bg-white dark:bg-gray-800 p-5 md:p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300 animate-fade-in-right">
        <div class="flex items-center mb-4">
          <img
            src="https://randomuser.me/api/portraits/women/44.jpg"
            alt="Dr. Fatima Al-Hassan"
            class="rounded-full w-12 h-12 object-cover"
            width="48"
            height="48"
            loading="lazy"
          />
          <div class="ml-4">
            <p class="font-bold text-gray-900 dark:text-white">Dr. Fatima Al-Hassan</p>
            <p class="text-sm text-gray-600 dark:text-gray-300">Research Scientist</p>
          </div>
        </div>
        <p class="text-gray-600 dark:text-gray-300">"The research tools are incredible. Highly recommended for medical professionals and educators alike."</p>
      </div>
    </div>
  </section>

  <!-- CTA Section - Added for better conversion -->
  <section class="py-12 md:py-16 bg-gradient-to-r from-blue-600 to-purple-700 dark:from-gray-800 dark:to-gray-900">
    <div class="py-16 text-center px-4">
      <h2 class="text-2xl md:text-3xl font-bold text-white mb-4">Ready to Get Started?</h2>
      <p class="text-white text-opacity-90 mb-6 max-w-2xl mx-auto">Join thousands of medical professionals using ElogBook to transform their practice and education.</p>
      <div class="flex flex-col sm:flex-row justify-center gap-4">
        <a href="{% url 'login' %}" class="px-6 py-3 bg-white text-blue-600 font-medium rounded-lg shadow-lg hover:shadow-xl transition duration-300">Sign In</a>
        <a href="#" class="px-6 py-3 bg-transparent text-white border-2 border-white font-medium rounded-lg hover:bg-white hover:bg-opacity-10 transition duration-300">Learn More</a>
      </div>
    </div>
  </section>
{% endblock %}

{% block extra_scripts %}
  <!-- Optimized JavaScript for image loading -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Intersection Observer for lazy loading images
      if ('IntersectionObserver' in window) {
        const imageObserver = new IntersectionObserver((entries, observer) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              const img = entry.target;
              img.classList.add('loaded');
              observer.unobserve(img);
            }
          });
        }, { rootMargin: '50px 0px', threshold: 0.1 });

        // Observe all images with lazy-image class
        document.querySelectorAll('.lazy-image').forEach(img => {
          imageObserver.observe(img);
        });
      } else {
        // Fallback for browsers that don't support Intersection Observer
        document.querySelectorAll('.lazy-image').forEach(img => {
          img.classList.add('loaded');
        });
      }
    });
  </script>
{% endblock %}
